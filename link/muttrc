set from = "marcus.ramberg@usit.uio.no"
set realname = "Marcus Ramberg"
set sort="threads"
set sort_aux = 'last-date-received'

source ~/.mutt/dracula.muttrc
source ~/.mutt/keybindings

# REMOTE GMAIL FOLDERS
set folder = "~/Maildir/icloud"
# source ~/.mutt/icloud
set spoolfile = "+INBOX"
set record = "+Sent"
set postponed= "+Drafts"


# LOCAL FOLDERS FOR CACHED HEADERS AND CERTIFICATES
set header_cache =~/.mutt/cache/headers
set message_cachedir =~/.mutt/cache/bodies
set certificate_file =~/.mutt/certificates

set editor = "/usr/local/bin/nvim +/^$"

set fast_reply
set include=yes
set allow_8bit
set attribution="%n(%a)@%d:"
set wait_key=no
set menu_scroll
set smart_wrap

alternative_order text/plain text/enriched text/html
auto_view text/html image/gif image/png image/jpeg

ignore *
unignore return-path from: to cc bcc subject resent-by date
unignore authenticated-sender apparently-from
unignore x-address x-organisation reply-to
unignore mail-followup-to user-agent x-mailer
unignore x-spammer x-bogosity x-spam-status
unignore message-id


# sidebar
set sidebar_width   = 30
set sidebar_visible = yes               # set to "no" to disable sidebar view at startup
color sidebar_new yellow default


# Macros
#
## Save all attachments
macro pager S "<pipe-message> ripmime -i - -d ~/Downloads && rm ~/Downloads/textfile*" "Save all non-text attachments using ripmime"
# opening urls with urlscan
macro pager \cb "<pipe-message> urlscan<Enter>" "call urlscan to extract URLs out of a message"
# Sync all email
macro index,pager O "<shell-escape>mbsync -a<enter>" "run mbsync to sync all mail"

